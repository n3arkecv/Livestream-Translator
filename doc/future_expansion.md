# ðŸš€ Future Expansion â€” Real-Time YouTube Live Translation App

å°æ‡‰æ–‡ä»¶ï¼š

* `/project_overview.md`
* `/modules_specification.md`
* `/config_json_spec.md`
* `/performance_targets.md`
* `/context_memory.md`
* `/translation_system.md`

---

## ðŸ§­ 1. æ“´å……è¨­è¨ˆæ ¸å¿ƒç†å¿µ

ç³»çµ±åœ¨ v1.0 å³å·²æŽ¡ç”¨ **æ¨¡çµ„åŒ– + äº‹ä»¶é©…å‹•æž¶æ§‹ (EventBus)**ï¼Œ
å¾ŒçºŒç‰ˆæœ¬å°‡æ²¿ç”¨ç›¸åŒåŸºç¤Žï¼Œä»¥ã€Œéžç ´å£žæ€§æ“´å……ã€ç‚ºä¸»è»¸ã€‚

æ“´å……ç­–ç•¥é‡é»žå¦‚ä¸‹ï¼š

1. **æ‰€æœ‰åŠŸèƒ½çš†æ¨¡çµ„åŒ–ã€å¯æ›¿æ›**ï¼ˆä¸ä¿®æ”¹ä¸»ç¨‹å¼å³å¯åˆ‡æ› STTã€LLMã€GUIï¼‰
2. **ä¿æŒéŽå¾€è¨­å®šæª”ç›¸å®¹**ï¼ˆconfig.json å‘ä¸‹ç›¸å®¹ï¼‰
3. **å»¶é²ä¸Šé™å›ºå®š 1.5 ç§’å…§**ï¼ˆæ¯æ–°å¢žåŠŸèƒ½ä¸å¾—çŠ§ç‰²å³æ™‚æ€§ï¼‰
4. **å¤šå±¤æŠ½è±¡**ï¼šæ ¸å¿ƒï¼ˆevent/coreï¼‰ã€ä»‹é¢ï¼ˆgui/overlayï¼‰ã€èªžè¨€æ¨¡çµ„ï¼ˆstt/llmï¼‰ã€ä¸Šä¸‹æ–‡ï¼ˆcontextï¼‰

---

## ðŸ§± 2. æ¨¡çµ„å±¤ç´šæœªä¾†æ“´å……è—åœ–

| æ¨¡çµ„                       | ç›®å‰ç‹€æ…‹                                                 | æœªä¾†æ“´å……æ–¹å‘                                                            |
| ------------------------ | ---------------------------------------------------- | ----------------------------------------------------------------- |
| **STT (Speech-to-Text)** | FasterWhisper / GPT-4o Transcribe / Gemini 2.5 Flash | Whisper.cppï¼ˆé›¢ç·šï¼‰ã€Deepgramã€OpenAI streamingã€Riva ASR                |
| **LLM ç¿»è­¯ (LLM1)**        | GPT-4.1-mini-2025-04-14                              | æ”¯æ´å¤šæ¨¡åž‹æ¯”è¼ƒæ¨¡å¼ï¼ˆé¸æœ€ä½³ç¿»è­¯ï¼‰ã€LLM Streaming ç¿»è­¯                                 |
| **Context è¨˜æ†¶ (LLM2)**    | çŸ­ç¯‡æƒ…å¢ƒæ‘˜è¦ï¼ˆ200â€“500 tokensï¼‰                               | å¯é¸é•·ç¯‡ Contextï¼ˆå¤šæ®µè¨˜æ†¶ï¼‰ã€Local RAG è¨˜æ†¶å¿«å–                                 |
| **Overlay**              | å–®è¦–çª—ï¼Œå­—å¹• + ç¿»è­¯ + Context                                | å¤š Overlayï¼ˆä¸åŒèž¢å¹•/é¡¯ç¤ºå™¨ï¼‰ã€æ”¯æ´ OBS plugin API                             |
| **GUI**                  | PySide GUI + Log é¢æ¿                                  | æ”¹ç”¨ Electron æˆ– Qt for Python WebEngineï¼Œæ”¯æ´ Plugin é¢æ¿                |
| **System Log**           | æª”æ¡ˆ + é¡è‰²åˆ†ç´š                                            | é›²ç«¯å³æ™‚ Log (Logtail / Loki / Sentry)                                |
| **Dialogue Log**         | JSONL/CSV                                            | é›²ç«¯ç´€éŒ„ï¼ˆåŒæ­¥åˆ° Google Sheets / Firestoreï¼‰                               |
| **Audio Capture**        | Stereo Mix / VB-Audio                                | WASAPI Loopbackã€macOS BlackHoleã€Linux PulseAudioã€NodeAudio Bridge |
| **Runtime Check**        | æ¨¡çµ„åŒ–æœ¬åœ°æª¢æŸ¥                                              | é›²ç«¯è¨ºæ–·èˆ‡ä¸€éµå®‰è£ï¼ˆAutoFix Managerï¼‰                                        |
| **Metrics Collector**    | JSONL å ±è¡¨                                             | å¯¦æ™‚å„€è¡¨æ¿ (WebSocket + Recharts GUI)                                  |
| **Translation Flow**     | å–®å¥ç¿»è­¯                                                 | Streaming Translation / Context-aware chunk translation           |

---

## ðŸ§© 3. åŠŸèƒ½æ“´å……æ–¹å‘åˆ†é¡ž

### ðŸ§  A. æ¨¡åž‹æ“´å…… (AI Model Integration)

| é¡žåˆ¥            | æ–°å¢žæ”¯æ´                                         | èªªæ˜Ž                   |
| ------------- | -------------------------------------------- | -------------------- |
| STT           | Whisper.cpp / Deepgram / OpenAI Realtime     | å…è¨±ä½¿ç”¨æœ¬åœ°èˆ‡é›²ç«¯æ··åˆ          |
| ç¿»è­¯ LLM        | GPT-4.2 / Claude 3.7 / Gemini 3.0 / DeepSeek | é€éŽ `llm.provider` æ“´å…… |
| æ‘˜è¦ LLM (LLM2) | Llama 3.3 local / Mistral fine-tuned         | æ”¯æ´ä½Žæˆæœ¬ Context æ‘˜è¦     |
| æ¨¡åž‹åˆ‡æ›          | `config.json.llm.provider` æ”¯æ´ `"auto"`       | ä¾å»¶é²/æˆæœ¬è‡ªå‹•é¸æ“‡æœ€ä½³æ¨¡åž‹       |

**é•·æœŸç›®æ¨™ï¼š**
æ”¯æ´ **â€œHybrid Inferenceâ€** â€” ä½Žå»¶é²æ™‚è‡ªå‹•åˆ‡è‡³æœ¬åœ°æ¨¡åž‹ï¼Œé«˜å»¶é²æ™‚åˆ‡å›žé›²ç«¯ APIã€‚

---

### ðŸ’¡ B. Context System æ“´å……

| æ“´å……é …ç›®                   | èªªæ˜Ž                                             |
| ---------------------- | ---------------------------------------------- |
| Multi-Context Pool     | å°‡ Context è¨˜æ†¶æ‹†åˆ†ç‚ºã€Œäººç‰©åˆ¥ã€ã€ã€Œä¸»é¡Œåˆ¥ã€å€å¡Š                   |
| Memory Weighting       | ç‚ºæ¯æ®µå°è©±è¨­å®šæ¬Šé‡ï¼ˆé‡è¦æ€§é«˜å‰‡ä¸è¢«å£“ç¸®ï¼‰                           |
| Memory Export / Import | åŒ¯å‡º `.context.jsonl`ï¼Œå¯åšé•·æœŸå­¸ç¿’è¨˜æ†¶                   |
| RAG çµåˆ                 | ä½¿ç”¨ Embedding + Vector DBï¼ˆFAISS / Chromaï¼‰æª¢ç´¢éŽå¾€èªžå¢ƒ |
| Local Context Cache    | å°‡ 24 å°æ™‚è¨˜æ†¶ç·©å­˜æ–¼ SQLite ä»¥æŒçºŒå°è©±èªžæ°£                    |

---

### ðŸŽ™ï¸ C. éŸ³è¨Šèˆ‡ä¸²æµåŠŸèƒ½

| æ“´å……é …ç›®                    | èªªæ˜Ž                                        |
| ----------------------- | ----------------------------------------- |
| å¤šè²é“æ“·å–                   | å¯åŒæ™‚æ“·å– YouTube è²éŸ³èˆ‡éº¥å…‹é¢¨                      |
| è‡ªå‹•éŸ³é‡èª¿æ•´                  | RMS åˆ†æž + è‡ªå‹•å¢žç›ŠæŽ§åˆ¶ (AGC)                     |
| å›žæ”¾æ¨¡å¼                    | å¯é‡æ’­ STT/ç¿»è­¯åŒæ­¥å­—å¹•                            |
| ç›´æŽ¥ä¸²æµæ•´åˆ                  | èˆ‡ OBS / Streamlabs æ’ä»¶æºé€šï¼ˆoverlay â†’ sourceï¼‰ |
| Whisper Real-time Chunk | ä½¿ç”¨ streaming decoder å³æ™‚ partial è¼¸å‡ºï¼ˆå­—é€å‡ºï¼‰   |

---

### ðŸ§© D. GUI / Overlay å»¶ä¼¸åŠŸèƒ½

| åŠŸèƒ½              | èªªæ˜Ž                                          |
| --------------- | ------------------------------------------- |
| äº’å‹•å¼ Overlay     | é»žæ“Šè©žå½™é¡¯ç¤ºç¿»è­¯è§£é‡‹ / å­—å¹•æš«åœ                           |
| OBS æ’ä»¶æ•´åˆ        | Overlay ä½œç‚ºå¯åµŒå…¥ Sourceï¼ˆWebSocket/Text Sourceï¼‰ |
| å¤šèªžå­—å¹•            | åŒæ™‚é¡¯ç¤ºä¸­/è‹±/æ—¥ä¸‰èªžï¼ˆå¯åˆ‡æ›ï¼‰                            |
| è‡ªè¨‚ CSS ä¸»é¡Œ       | å­—é«”ã€é…è‰²ã€é™°å½±ã€é€æ˜Žåº¦é¢¨æ ¼åŒ–                             |
| Live Event Mode | é¡¯ç¤ºè¬›è€…åç¨± / è©±é¡Œ / é—œéµå­—æ¨™ç±¤                         |

---

### âš™ï¸ E. ç³»çµ±èˆ‡æž¶æ§‹å¼·åŒ–

| é …ç›®       | ç›®æ¨™                                    |
| -------- | ------------------------------------- |
| äº‹ä»¶åŒ¯æµæŽ’é‡æ§‹  | ç”±åŒæ­¥ â†’ Async EventBusï¼ˆæ”¯æ´ backpressureï¼‰ |
| å¤šåŸ·è¡Œç·’å¹³è¡¡   | STTã€ç¿»è­¯ã€æ¸²æŸ“å„ç¨ç«‹ Thread Pool              |
| åˆ†æ•£å¼éƒ¨ç½²    | LLM æœå‹™å¯è·‘åœ¨é ç«¯ä¸»æ©Ÿ                         |
| éŒ¯èª¤å›žå ±é›²ç«¯åŒæ­¥ | å°‡éŒ¯èª¤å³æ™‚é€å¾€éŒ¯èª¤è¿½è¹¤ä¼ºæœå™¨ï¼ˆSentryï¼‰                |
| æ¨¡åž‹ç®¡ç† API | è‡ªå‹•ä¸‹è¼‰ / æ›´æ–° FasterWhisper æ¨¡åž‹            |
| ç‰ˆæœ¬è‡ªæª¢     | å•Ÿå‹•æ™‚æ¯”å° Git Tag èˆ‡æ–‡ä»¶ç‰ˆæœ¬ä¸¦æç¤ºæ›´æ–°              |

---

### ðŸ§¾ F. Logging / Metrics æ”¹é€²

| é¡žåˆ¥           | æ“´å……                               | ç›®æ¨™              |
| ------------ | -------------------------------- | --------------- |
| System Log   | Log â†’ SQLite / Loki Cloud        | é›²ç«¯é›†ä¸­ç›£æŽ§          |
| Dialogue Log | çµåˆ Context å¿«ç…§                    | ç²¾æº–é‚„åŽŸå°è©±èˆ‡èªžå¢ƒ       |
| Metrics      | WebSocket Stream                 | å¯¦æ™‚å»¶é²ã€GPU åˆ©ç”¨çŽ‡è¦–è¦ºåŒ– |
| GUI          | Diagnostics è¦–åœ–                   | å³æ™‚ç›£æŽ§å»¶é²èˆ‡è¨˜æ†¶é«”ä½¿ç”¨    |
| è‡ªæˆ‘æ ¡æ­£         | ç•°å¸¸å»¶é²è‡ªå‹•èª¿æ•´ STT chunk / LLM timeout |                 |

---

### ðŸ§© G. è¨­å®šèˆ‡ä½¿ç”¨è€…é«”é©—

| æ“´å……é …ç›®          | ç›®æ¨™                                           |
| ------------- | -------------------------------------------- |
| Config Wizard | GUI å°Žå¼•å»ºç«‹ config.json                         |
| è¨­å®šæª”é›²ç«¯åŒæ­¥       | è·¨è£ç½®å…±ç”¨åå¥½è¨­å®š                                    |
| è‡ªå‹•æ›´æ–°          | ç‰ˆæœ¬æª¢æ¸¬ + ä¸€éµæ›´æ–°                                  |
| è¨­å®šæª”å¿«å–         | å»ºç«‹ profileï¼ˆDefault / LowLatency / Streamingï¼‰ |
| Plugin ç³»çµ±     | æ”¯æ´ç¬¬ä¸‰æ–¹è‡ªè¨‚äº‹ä»¶è™•ç†ï¼ˆLLM hookã€STT hookï¼‰               |

---

## âš¡ 4. æŠ€è¡“æ¼”é€²éšŽæ®µï¼ˆRoadmapï¼‰

| ç‰ˆæœ¬                         | æ™‚ç¨‹      | ä¸»è¦è®ŠåŒ–                            | æŠ€è¡“é‡Œç¨‹ç¢‘         |
| -------------------------- | ------- | ------------------------------- | ------------- |
| **v1.0 (Base)**            | 2025 Q1 | å®Œæˆæœ¬åœ°/é›²ç«¯ STTã€LLM ç¿»è­¯ã€Overlayã€GUI  | ç©©å®š 1.5s å»¶é²    |
| **v1.1 (Async Core)**      | 2025 Q2 | æ”¹ç‚º Async EventBusã€éžé˜»å¡žä»»å‹™æ±         | å»¶é²é™è‡³ 1.2s     |
| **v1.2 (Context++ )**      | 2025 Q3 | å¼•å…¥å¤šä¸»é¡Œ Context è¨˜æ†¶ + SQLite Cache | æƒ…å¢ƒé€£è²«æ€§æå‡       |
| **v1.3 (Streaming LLM)**   | 2025 Q4 | ç¿»è­¯å³æ™‚æµå¼æ›´æ–°                        | Overlay è¼¸å‡ºæ›´æµæš¢ |
| **v1.4 (OBS Integration)** | 2026 Q1 | Overlay ä»¥ WebSocket æŽ¨é€          | æ”¯æ´ OBS æ–‡å­—æºæ•´åˆ  |
| **v1.5 (Web Dashboard)**   | 2026 Q2 | Metrics / Log å¯è¦–åŒ–               | é ç«¯ç›£æŽ§èˆ‡æ“ä½œ       |
| **v2.0 (Cross-Platform)**  | 2026 Q4 | macOS / Linux ç‰ˆæœ¬ã€Plugin ç³»çµ±      | å®Œæ•´é–‹æ”¾æ“´å……        |

---

## ðŸ§© 5. é–‹æ”¾ API / Plugin æ§‹æƒ³

> ç›®æ¨™ï¼šå…è¨±é–‹ç™¼è€…ç”¨æœ€å°‘ä»£ç¢¼æ“´å……æ¨¡çµ„ã€‚

```python
# plugin_example.py
from core.events import subscribe, EventName

@subscribe(EventName.LLM1_TRANSLATE_FINISHED)
def after_translate(data):
    # åœ¨ç¿»è­¯çµæŸå¾ŒåŸ·è¡Œè‡ªå®šç¾©è¡Œç‚º
    save_to_database(data["translated_text"])
```

æ’ä»¶å¯ï¼š

* æ””æˆªäº‹ä»¶ä¸¦ä¿®æ”¹å…§å®¹
* æ–°å¢žè‡ªå®šç¾© overlay é¢æ¿
* æ›¿æ› LLM å‘¼å«æ–¹å¼ï¼ˆå¦‚ç¿»è­¯å‰ç”¨ regex æ¸…ç†ï¼‰
* å‹•æ…‹è¼‰å…¥ï¼ˆæ–¼ config.json â†’ feature_flags.enable_pluginsï¼‰

---

## ðŸ§© 6. é›²ç«¯æ•´åˆæ–¹å‘

| æ¨¡çµ„           | æ“´å……æ–¹å¼           | é›²ç«¯æœå‹™                         |
| ------------ | -------------- | ---------------------------- |
| Log          | REST/WebSocket | Loki, Logtail, Firebase      |
| Dialogue     | åŒæ­¥ç´€éŒ„           | Google Sheets API, Firestore |
| Metrics      | Web Dashboard  | FastAPI + ChartJS å‰ç«¯         |
| Model Host   | æ¨¡åž‹å¿«å–ä¼ºæœå™¨        | HuggingFace Hub, AWS S3      |
| Context Sync | å…±äº«è¨˜æ†¶           | Redis / Chroma Cloud         |

---

## ðŸŒ 7. å¹³å°æ“´å±•æ§‹æƒ³

| å¹³å°          | å¯¦ä½œé‡é»ž                                | ç‹€æ…‹      |
| ----------- | ----------------------------------- | ------- |
| **Windows** | ä¸»è¦é–‹ç™¼å¹³å°                              | âœ… ç©©å®šæ”¯æ´  |
| **macOS**   | ä½¿ç”¨ `BlackHole` éŸ³æºæ“·å– + PySide6 Cocoa | ðŸ§ª æ¸¬è©¦éšŽæ®µ |
| **Linux**   | PulseAudio / PipeWire é©é…            | ðŸ§ª æ¸¬è©¦éšŽæ®µ |
| **Android** | ä½¿ç”¨ PySide + Termux + TTS overlay    | â³ æŽ¢ç´¢ä¸­   |
| **Web ç‰ˆ**   | WebSocket stream + JS overlay       | â³ è¨­è¨ˆä¸­   |

---

## ðŸ§© 8. AI è‡ªå‹•åŒ–èˆ‡ Agent å”åŒ

### ç›®æ¨™

è®“ç³»çµ±èƒ½èˆ‡ Cursor Agentã€OpenAI Assistantã€LangGraph ç­‰å”åŒï¼š

| æ¨¡å¼                          | æè¿°                                        |
| --------------------------- | ----------------------------------------- |
| **Agent-CoT ç¿»è­¯æ¨¡å¼**          | ä½¿ç”¨å…©å€‹ LLMï¼šä¸€å€‹ç¿»è­¯ã€ä¸€å€‹æª¢æŸ¥èªžæ°£æ­£ç¢ºæ€§                   |
| **è‡ªå‹•åŒ– Debug Agent**         | ç•¶åµæ¸¬éŒ¯èª¤äº‹ä»¶ï¼ˆsyslog.errorï¼‰æ™‚ï¼Œç”± Agent æä¾›ä¿®å¾©å»ºè­°     |
| **Auto-Optimization Agent** | åˆ†æž Metricsï¼Œè‡ªå‹•èª¿æ•´ chunk é•·åº¦ã€API timeoutã€é‡è©¦æ¬¡æ•¸ |

---

## ðŸ”’ 9. å®‰å…¨èˆ‡éš±ç§å‡ç´šæ§‹æƒ³

| é …ç›®              | èªªæ˜Ž                             |
| --------------- | ------------------------------ |
| åŠ å¯† Dialogue Log | AES-256 åŠ å¯† + æœ¬åœ°é‡‘é‘°              |
| åŒ¿ååŒ–æ¨¡å¼           | æ¨¡ç³ŠåŒ–åç¨±/IDï¼Œæ”¯æ´ GDPR               |
| API Key Vault   | é‡‘é‘°é›†ä¸­å„²å­˜æ–¼ `.env` / OS Keyring    |
| é›¢ç·šæ¨¡å¼            | å¯å®Œå…¨é›¢ç·šåŸ·è¡Œï¼ˆLocal STT + Local LLMï¼‰ |
| ä½¿ç”¨è€…åŒæ„æ©Ÿåˆ¶         | GUI é¦–æ¬¡å•Ÿå‹•æç¤ºã€Œè³‡æ–™ç”¨é€”ã€               |

---

## ðŸ§© 10. å»¶é²èˆ‡æ•ˆèƒ½å„ªåŒ–æ–¹å‘

| å±¤ç´š       | æ–¹æ³•                         | æ•ˆæžœ           |
| -------- | -------------------------- | ------------ |
| STT      | FasterWhisper Streaming æ¨¡å¼ | é™ä½Ž 100â€“200ms |
| LLM      | Prompt æœ€å°åŒ– + å£“ç¸®ä¸Šä¸‹æ–‡         | é™ä½Ž 150ms     |
| EventBus | Async + Thread Pool        | é™ä½ŽéŽ–å»¶é² 50ms   |
| Overlay  | Partial Rendering + Cache  | å³æ™‚åˆ·æ–°æ›´æµæš¢      |
| Context  | Token å£“ç¸®/åˆ†æ®µæ›´æ–°              | å»¶é²æ›´ç©©å®š        |

---

## ðŸ§­ 11. æœªä¾†é–‹æºèˆ‡æ¨¡çµ„ç­–ç•¥

| æ¨¡çµ„                          | æŽˆæ¬Šå»ºè­°       | èªªæ˜Ž                |
| --------------------------- | ---------- | ----------------- |
| GUI / Overlay               | MIT        | å…è¨±äºŒæ¬¡é–‹ç™¼            |
| STT / Translation Interface | Apache 2.0 | ä¿ç•™ç›¸å®¹æ€§             |
| æ ¸å¿ƒ EventBus                 | LGPL       | é¼“å‹µæ•´åˆ              |
| Context / Logging æ¨¡çµ„        | MIT        | å¯ä¾›æ•™å­¸ä½¿ç”¨            |
| Metrics Collector           | MIT        | å¯é–‹æ”¾ Web Dashboard |

---

## ðŸ§  12. çµèªž

æœªä¾†ç‰ˆæœ¬çš„é‡é»žåœ¨æ–¼ï¼š

* ä¿æŒå³æ™‚ç¿»è­¯é«”é©—æµæš¢
* å»ºç«‹æ¨¡çµ„å¯é‡ç”¨çš„é–‹æ”¾æž¶æ§‹
* çµåˆ AI è‡ªå‹•åŒ–å„ªåŒ–ï¼ˆAdaptive Latency Controlï¼‰
* æ”¯æ´è·¨å¹³å°ã€è·¨æ¨¡åž‹ã€å¤šèªžç¨®ã€å¤šäººä½¿ç”¨å ´æ™¯

> ðŸ§© ã€Œæ¯å€‹æ¨¡çµ„éƒ½èƒ½å–®ç¨å‡ç´šï¼Œè€Œæ•´å€‹ç³»çµ±ä»ä¿æŒç©©å®šã€‚ã€
> â€”â€” é€™æ˜¯æ­¤æž¶æ§‹çš„æœ€çµ‚é¡˜æ™¯ã€‚
